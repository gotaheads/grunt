<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>Growth of Licences in Gippsland</title>
    <!--[if IE]>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <![endif]-->

    <script src="http://d3js.org/d3.v2.min.js" charset="utf-8"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>

    <script src="xcharts/xcharts.js"></script>
    <script src="xcharts/rainbow.min.js"></script>
    <link rel="stylesheet" href="xcharts/xcharts.css">
    <link rel="stylesheet" href="xcharts/master.css">

    <style>
        .xchart .errorLine path {
            stroke: #C6080D;
            stroke-width: 3px;
        }
    </style>

</head>
<body>

<section>

    <article class="example">
        <div class="row guttered">
            <div class="span12">
                <figure id="myChart"></figure>
            </div>
        </div>
    </article>

    <article class="example">
        <div class="row guttered">
            <div class="span12">
                <figure id="myChart2"></figure>
            </div>
        </div>
    </article>

</section>


<script>

    var tt = document.createElement('div'),
            leftOffset = -(~~$('html').css('padding-left').replace('px', '') + ~~$('body').css('margin-left').replace('px', '')),
            topOffset = -32;
    tt.className = 'ex-tooltip';
    document.body.appendChild(tt);

    var data1 = {
        "xScale": "time",
        "yScale": "linear",
        "main": [
            {
                "className": ".growth-licences",
                "data": [
                    {x:'1970-01-01', y:1126},
                    {x:'1971-01-01', y:9318.9},
                    {x:'1972-01-01', y:6927.1},
                    {x:'1973-01-01', y:8866.2},
                    {x:'1974-01-01', y:2286.7},
                    {x:'1975-01-01', y:1242.5},
                    {x:'1976-01-01', y:268.3},
                    {x:'1977-01-01', y:1591.2},
                    {x:'1978-01-01', y:910},
                    {x:'1979-01-01', y:5050.8},
                    {x:'1980-01-01', y:2997.6},
                    {x:'1981-01-01', y:589.3},
                    {x:'1982-01-01', y:1708},
                    {x:'1983-01-01', y:4954.4},
                    {x:'1984-01-01', y:3790},
                    {x:'1985-01-01', y:5237},
                    {x:'1986-01-01', y:2459.8},
                    {x:'1987-01-01', y:1883.6},
                    {x:'1988-01-01', y:1368.8},
                    {x:'1989-01-01', y:1486.4},
                    {x:'1990-01-01', y:512.8},
                    {x:'1991-01-01', y:227.2},
                    {x:'1992-01-01', y:553.2},
                    {x:'1993-01-01', y:1611.4},
                    {x:'1994-01-01', y:6261.9},
                    {x:'1995-01-01', y:45714.8},
                    {x:'1996-01-01', y:2293.8},
                    {x:'1997-01-01', y:9475.5},
                    {x:'1998-01-01', y:4550},
                    {x:'1999-01-01', y:1882.8},
                    {x:'2000-01-01', y:5514.4},
                    {x:'2001-01-01', y:6442.4},
                    {x:'2002-01-01', y:4718.2},
                    {x:'2003-01-01', y:1419.4},
                    {x:'2004-01-01', y:2160},
                    {x:'2005-01-01', y:1349.7},
                    {x:'2006-01-01', y:775.1},
                    {x:'2007-01-01', y:1716},
                    {x:'2008-01-01', y:1923.8},
                    {x:'2009-01-01', y:682.5},
                    {x:'2010-01-01', y:1446.8},
                    {x:'2011-01-01', y:2618.1}
                ]
            },
            {
                "className": ".growth-licences",
                "data": [
                    {x:'1970-01-01', y:1126},
                    {x:'1971-01-01', y:10444.9},
                    {x:'1972-01-01', y:17372},
                    {x:'1973-01-01', y:26238.2},
                    {x:'1974-01-01', y:28524.9},
                    {x:'1975-01-01', y:29767.4},
                    {x:'1976-01-01', y:30035.7},
                    {x:'1977-01-01', y:31626.9},
                    {x:'1978-01-01', y:32536.9},
                    {x:'1979-01-01', y:37587.7},
                    {x:'1980-01-01', y:40585.3},
                    {x:'1981-01-01', y:41174.6},
                    {x:'1982-01-01', y:42882.6},
                    {x:'1983-01-01', y:47837},
                    {x:'1984-01-01', y:51627},
                    {x:'1985-01-01', y:56864},
                    {x:'1986-01-01', y:59323.8},
                    {x:'1987-01-01', y:61207.4},
                    {x:'1988-01-01', y:62576.2},
                    {x:'1989-01-01', y:64062.6},
                    {x:'1990-01-01', y:64575.4},
                    {x:'1991-01-01', y:64802.6},
                    {x:'1992-01-01', y:65355.8},
                    {x:'1993-01-01', y:66967.2},
                    {x:'1994-01-01', y:73229.1},
                    {x:'1995-01-01', y:118943.9},
                    {x:'1996-01-01', y:121237.7},
                    {x:'1997-01-01', y:130713.2},
                    {x:'1998-01-01', y:135263.2},
                    {x:'1999-01-01', y:137146},
                    {x:'2000-01-01', y:142660.4},
                    {x:'2001-01-01', y:149102.8},
                    {x:'2002-01-01', y:153821},
                    {x:'2003-01-01', y:155240.4},
                    {x:'2004-01-01', y:157400.4},
                    {x:'2005-01-01', y:158750.1},
                    {x:'2006-01-01', y:159525.2},
                    {x:'2007-01-01', y:161241.2},
                    {x:'2008-01-01', y:163165},
                    {x:'2009-01-01', y:163847.5},
                    {x:'2010-01-01', y:165294.3},
                    {x:'2011-01-01', y:167912.4}
                ]
            },
            {
                "className": ".growth-licences",
                "data": [
                    {x:'1970-01-01', y:0},
                    {x:'1971-01-01', y:0},
                    {x:'1972-01-01', y:0},
                    {x:'1973-01-01', y:0},
                    {x:'1974-01-01', y:0},
                    {x:'1975-01-01', y:0},
                    {x:'1976-01-01', y:0},
                    {x:'1977-01-01', y:0},
                    {x:'1978-01-01', y:0},
                    {x:'1979-01-01', y:0},
                    {x:'1980-01-01', y:0},
                    {x:'1981-01-01', y:0},
                    {x:'1982-01-01', y:0},
                    {x:'1983-01-01', y:0},
                    {x:'1984-01-01', y:0},
                    {x:'1985-01-01', y:0},
                    {x:'1986-01-01', y:0},
                    {x:'1987-01-01', y:0},
                    {x:'1988-01-01', y:0},
                    {x:'1989-01-01', y:0},
                    {x:'1990-01-01', y:0},
                    {x:'1991-01-01', y:0},
                    {x:'1992-01-01', y:0},
                    {x:'1993-01-01', y:0},
                    {x:'1994-01-01', y:0},
                    {x:'1995-01-01', y:0},
                    {x:'1996-01-01', y:0},
                    {x:'1997-01-01', y:0},
                    {x:'1998-01-01', y:0},
                    {x:'1999-01-01', y:0},
                    {x:'2000-01-01', y:0},
                    {x:'2001-01-01', y:0},
                    {x:'2002-01-01', y:0},
                    {x:'2003-01-01', y:0},
                    {x:'2004-01-01', y:44546.4},
                    {x:'2005-01-01', y:72069},
                    {x:'2006-01-01', y:84190.3},
                    {x:'2007-01-01', y:89746.4},
                    {x:'2008-01-01', y:75362.7},
                    {x:'2009-01-01', y:88873.6},
                    {x:'2010-01-01', y:49276.3},
                    {x:'2011-01-01', y:54745.7}
                ]
            }
        ]
    };


    var data2 = {
        "xScale": "ordinal",
        "yScale": "linear",
        'type':'bar',
        "main": [
            {
                "className": ".growth-licences",
                "data": [
                    {x:'1970-01-01', y:1126},
                    {x:'1971-01-01', y:9318.9},
                    {x:'1972-01-01', y:6927.1},
                    {x:'1973-01-01', y:8866.2},
                    {x:'1974-01-01', y:2286.7},
                    {x:'1975-01-01', y:1242.5},
                    {x:'1976-01-01', y:268.3},
                    {x:'1977-01-01', y:1591.2},
                    {x:'1978-01-01', y:910},
                    {x:'1979-01-01', y:5050.8},
                    {x:'1980-01-01', y:2997.6},
                    {x:'1981-01-01', y:589.3},
                    {x:'1982-01-01', y:1708},
                    {x:'1983-01-01', y:4954.4},
                    {x:'1984-01-01', y:3790},
                    {x:'1985-01-01', y:5237},
                    {x:'1986-01-01', y:2459.8},
                    {x:'1987-01-01', y:1883.6},
                    {x:'1988-01-01', y:1368.8},
                    {x:'1989-01-01', y:1486.4},
                    {x:'1990-01-01', y:512.8},
                    {x:'1991-01-01', y:227.2},
                    {x:'1992-01-01', y:553.2},
                    {x:'1993-01-01', y:1611.4},
                    {x:'1994-01-01', y:6261.9},
                    {x:'1995-01-01', y:45714.8},
                    {x:'1996-01-01', y:2293.8},
                    {x:'1997-01-01', y:9475.5},
                    {x:'1998-01-01', y:4550},
                    {x:'1999-01-01', y:1882.8},
                    {x:'2000-01-01', y:5514.4},
                    {x:'2001-01-01', y:6442.4},
                    {x:'2002-01-01', y:4718.2},
                    {x:'2003-01-01', y:1419.4},
                    {x:'2004-01-01', y:2160},
                    {x:'2005-01-01', y:1349.7},
                    {x:'2006-01-01', y:775.1},
                    {x:'2007-01-01', y:1716},
                    {x:'2008-01-01', y:1923.8},
                    {x:'2009-01-01', y:682.5},
                    {x:'2010-01-01', y:1446.8},
                    {x:'2011-01-01', y:2618.1}
                ]
            },
            {
                "className": ".growth-licences",
                "data": [
                    {x:'1970-01-01', y:1126},
                    {x:'1971-01-01', y:10444.9},
                    {x:'1972-01-01', y:17372},
                    {x:'1973-01-01', y:26238.2},
                    {x:'1974-01-01', y:28524.9},
                    {x:'1975-01-01', y:29767.4},
                    {x:'1976-01-01', y:30035.7},
                    {x:'1977-01-01', y:31626.9},
                    {x:'1978-01-01', y:32536.9},
                    {x:'1979-01-01', y:37587.7},
                    {x:'1980-01-01', y:40585.3},
                    {x:'1981-01-01', y:41174.6},
                    {x:'1982-01-01', y:42882.6},
                    {x:'1983-01-01', y:47837},
                    {x:'1984-01-01', y:51627},
                    {x:'1985-01-01', y:56864},
                    {x:'1986-01-01', y:59323.8},
                    {x:'1987-01-01', y:61207.4},
                    {x:'1988-01-01', y:62576.2},
                    {x:'1989-01-01', y:64062.6},
                    {x:'1990-01-01', y:64575.4},
                    {x:'1991-01-01', y:64802.6},
                    {x:'1992-01-01', y:65355.8},
                    {x:'1993-01-01', y:66967.2},
                    {x:'1994-01-01', y:73229.1},
                    {x:'1995-01-01', y:118943.9},
                    {x:'1996-01-01', y:121237.7},
                    {x:'1997-01-01', y:130713.2},
                    {x:'1998-01-01', y:135263.2},
                    {x:'1999-01-01', y:137146},
                    {x:'2000-01-01', y:142660.4},
                    {x:'2001-01-01', y:149102.8},
                    {x:'2002-01-01', y:153821},
                    {x:'2003-01-01', y:155240.4},
                    {x:'2004-01-01', y:157400.4},
                    {x:'2005-01-01', y:158750.1},
                    {x:'2006-01-01', y:159525.2},
                    {x:'2007-01-01', y:161241.2},
                    {x:'2008-01-01', y:163165},
                    {x:'2009-01-01', y:163847.5},
                    {x:'2010-01-01', y:165294.3},
                    {x:'2011-01-01', y:167912.4}
                ]
            },
            {
                "className": ".growth-licences",
                "data": [
                    {x:'1970-01-01', y:0},
                    {x:'1971-01-01', y:0},
                    {x:'1972-01-01', y:0},
                    {x:'1973-01-01', y:0},
                    {x:'1974-01-01', y:0},
                    {x:'1975-01-01', y:0},
                    {x:'1976-01-01', y:0},
                    {x:'1977-01-01', y:0},
                    {x:'1978-01-01', y:0},
                    {x:'1979-01-01', y:0},
                    {x:'1980-01-01', y:0},
                    {x:'1981-01-01', y:0},
                    {x:'1982-01-01', y:0},
                    {x:'1983-01-01', y:0},
                    {x:'1984-01-01', y:0},
                    {x:'1985-01-01', y:0},
                    {x:'1986-01-01', y:0},
                    {x:'1987-01-01', y:0},
                    {x:'1988-01-01', y:0},
                    {x:'1989-01-01', y:0},
                    {x:'1990-01-01', y:0},
                    {x:'1991-01-01', y:0},
                    {x:'1992-01-01', y:0},
                    {x:'1993-01-01', y:0},
                    {x:'1994-01-01', y:0},
                    {x:'1995-01-01', y:0},
                    {x:'1996-01-01', y:0},
                    {x:'1997-01-01', y:0},
                    {x:'1998-01-01', y:0},
                    {x:'1999-01-01', y:0},
                    {x:'2000-01-01', y:0},
                    {x:'2001-01-01', y:0},
                    {x:'2002-01-01', y:0},
                    {x:'2003-01-01', y:0},
                    {x:'2004-01-01', y:44546.4},
                    {x:'2005-01-01', y:72069},
                    {x:'2006-01-01', y:84190.3},
                    {x:'2007-01-01', y:89746.4},
                    {x:'2008-01-01', y:75362.7},
                    {x:'2009-01-01', y:88873.6},
                    {x:'2010-01-01', y:49276.3},
                    {x:'2011-01-01', y:54745.7}
                ]
            }
        ]
    };


    var opts = {
        "dataFormatX": function (x) { return d3.time.format('%Y-%m-%d').parse(x); },
        "tickFormatX": function (x) { return d3.time.format('%Y')(x); },
        "mouseover": function (d, i) {

            var pos = $(this).offset();
            $(tt).text(d3.time.format('%Y')(d.x) + ': ' + d.y)
                    .css({top: topOffset + pos.top, left: pos.left + leftOffset})
                    .show();
        },
        "mouseout": function (x) {
            $(tt).hide();
        }
    };

    var myChart = new xChart('line-dotted', data1, '#myChart', opts);

    var myChart2 = new xChart('bar', data2, '#myChart2', opts);

    setTimeout(function() {

    }, 300);

</script>

</body>
</html>
